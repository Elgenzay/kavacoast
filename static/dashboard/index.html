<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Kava Coast</title>
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="/resources/css/main.css">
	<link rel="stylesheet" href="/resources/css/Roboto.css">
	<link rel="stylesheet" href="/dashboard/style.css">
	<script src="/resources/js/background.js"></script>
	<script src="/resources/js/request.js"></script>
	<script src="/resources/js/auth.js"></script>
	<script src="/dashboard/dashboard.js"></script>
	<script src="/dashboard/settings.js"></script>
	<script src="/dashboard/admin.js"></script>
	<script src="/dashboard/pool_host.js"></script>
	<script src="/dashboard/pool.js"></script>
	<script>
		var dashboard;

		window.onload = () => {
			new Background(document.getElementById("bgcanvas"));
			dashboard = new Dashboard();
		};
	</script>
</head>

<body>
	<div id="content" class="full-screen">
		<div id="side-panel">
			<div id="side-panel-top">
				<div>
					<a href="/">
						<img style="width:50px; height:50px" src="/resources/i/icon.png">
					</a>
				</div>
			</div>
			<div id="side-panel-bottom" class="nav-button-list">
			</div>
		</div>
		<div id="main-panel">
			<div class="page hidden" id="page-error" data-page="error">
				<p>
					Failed to load.
				</p>
				<p>
					Try relogging if the problem persists.
				</p>
				<button onclick="Auth.logout()">Logout</button>
			</div>
			<div class="page hidden" id="page-loading" data-page="loading">
				<div class="loader"></div>
			</div>
			<div class="page hidden" data-page="settings">
				<h1>Settings</h1>
				<div class="section">
					<div>
						Logged in as <span class="displayname"></span>
					</div>
					<button onclick="Auth.logout()">Logout</button>
				</div>
				<div class="section">
					<div>
						<div class="label align-responsive">
							Username
						</div>
						<input id="settings-change-username-input" type="text"
							oninput="dashboard.settings.username_input(this)"></input>
						<button id="settings-change-username-button" onclick="dashboard.settings.username_update()"
							disabled>Update</button>
					</div>
					<div id="settings-change-username-error" class="error-message"></div>
				</div>
				<div class="section">
					<div>
						<div class="label align-responsive">
							Display name
						</div>
						<input id="settings-change-displayname-input" type="text"
							oninput="dashboard.settings.displayname_input(this)"></input>
						<button id="settings-change-displayname-button"
							onclick="dashboard.settings.displayname_update()" disabled>Update</button>
					</div>
					<div id="settings-change-displayname-error" class="error-message"></div>
				</div>
				<div class="section">
					<div>
						<div>
							<div class="label">
								Current password
							</div>
							<input id="settings-currentpassword" type="password"
								oninput="dashboard.settings.current_password_input(this)"></input>
						</div>
						<div>
							<div>
								<div class="label">
									New password
								</div>
								<input id="settings-newpassword" type="password"
									oninput="dashboard.settings.new_password_input(this)"></input>
							</div>
							<div>
								<div class="label">
									Confirm new password
								</div>
								<input id="settings-confirm-newpassword" type="password"
									oninput="dashboard.settings.confirm_password_input(this)"></input>
							</div>
						</div>
						<button disabled id="settings-change-password-button"
							onclick="dashboard.settings.password_update()">Update</button>
					</div>
					<div id="settings-change-password-error" class="error-message"></div>
				</div>
				<div class="section">
					<div>
						<div>
							Discord username:
						</div>
						<div class="discord-username">
						</div>
					</div>
				</div>
			</div>
			<div class="page hidden" data-page="admin">
				admin page
			</div>
			<div class="page hidden" data-page="pool_host">
				pool host page
			</div>
			<div class="page hidden" data-page="pool">
				pool page
			</div>
		</div>
	</div>
	<canvas id="bgcanvas"></canvas>
</body>

</html>